if(!is.numeric(input_vector) && !is.logical(input_vector)) {
return(NA)
}
mean_temp <- mean(input_vector)
std_temp <- sd(input_vector)/sqrt(length(input_vector))
a <- 1 - 0.95  # 1 - alpha
z <- qnorm(1 - a/2)
lower_bound <- mean_temp - z * std_temp
upper_bound <- mean_temp + z * std_temp
c(lower_bound,upper_bound)
}
apply(angell_stata, 1, my_CI4)
my_CI4(angell_stata$city)
my_CI4(angell_stata$morint)
my_CI4(angell_stata$ethhet)
my_CI4(angell_stata$geomob)
my_CI4(angell_stata$region)
my_CI4 <- function(input_vector){
if(!is.numeric(input_vector) && !is.logical(input_vector)) {
return(NA)
}
mean_temp <- mean(input_vector)
std_temp <- sd(input_vector)/sqrt(length(input_vector))
a <- 1 - 0.95  # 1 - alpha
z <- qnorm(1 - a/2)
lower_bound <- mean_temp - z * std_temp
upper_bound <- mean_temp + z * std_temp
c(lower_bound,upper_bound)
}
apply(angell_stata, dim(angell_stata), my_CI4)
my_CI4 <- function(input_vector){
if(!is.numeric(input_vector) && !is.logical(input_vector)) {
return(NA)
}
mean_temp <- mean(input_vector)
std_temp <- sd(input_vector)/sqrt(length(input_vector))
a <- 1 - 0.95  # 1 - alpha
z <- qnorm(1 - a/2)
lower_bound <- mean_temp - z * std_temp
upper_bound <- mean_temp + z * std_temp
c(lower_bound,upper_bound)
}
apply(angell_stata, dim(angell_stata)[1], my_CI4)
my_CI4 <- function(input_vector){
if(!is.numeric(input_vector) && !is.logical(input_vector)) {
return(NA)
}
mean_temp <- mean(input_vector)
std_temp <- sd(input_vector)/sqrt(length(input_vector))
a <- 1 - 0.95  # 1 - alpha
z <- qnorm(1 - a/2)
lower_bound <- mean_temp - z * std_temp
upper_bound <- mean_temp + z * std_temp
c(lower_bound,upper_bound)
}
apply(angell_stata, 5, my_CI4)
my_CI4 <- function(input_vector){
if(!is.numeric(input_vector) && !is.logical(input_vector)) {
return(NA)
}
mean_temp <- mean(input_vector)
std_temp <- sd(input_vector)/sqrt(length(input_vector))
a <- 1 - 0.95  # 1 - alpha
z <- qnorm(1 - a/2)
lower_bound <- mean_temp - z * std_temp
upper_bound <- mean_temp + z * std_temp
c(lower_bound,upper_bound)
}
apply(angell_stata, 2, my_CI4)
my_CI4(angell_stata$city)
my_CI4(angell_stata$morint)
my_CI4(angell_stata$ethhet)
my_CI4(angell_stata$geomob)
my_CI4(angell_stata$region)
my_CI4 <- function(input_vector){
if(!is.numeric(input_vector) && !is.logical(input_vector)) {
return(NA)
}
mean_temp <- mean(input_vector)
std_temp <- sd(input_vector)/sqrt(length(input_vector))
a <- 1 - 0.95  # 1 - alpha
z <- qnorm(1 - a/2)
lower_bound <- mean_temp - z * std_temp
upper_bound <- mean_temp + z * std_temp
c(lower_bound,upper_bound)
}
res <- apply(angell_stata, 2, my_CI4)
my_CI4(angell_stata$city)
my_CI4(angell_stata$morint)
my_CI4(angell_stata$ethhet)
my_CI4(angell_stata$geomob)
my_CI4(angell_stata$region)
res
my_CI4 <- function(input_vector){
if(!is.numeric(input_vector) && !is.logical(input_vector)) {
return(NA)
}
mean_temp <- mean(input_vector)
std_temp <- sd(input_vector)/sqrt(length(input_vector))
a <- 1 - 0.95  # 1 - alpha
z <- qnorm(1 - a/2)
lower_bound <- mean_temp - z * std_temp
upper_bound <- mean_temp + z * std_temp
c(lower_bound,upper_bound)
}
res <- apply(angell_stata, 2, my_CI4, simplify = TRUE)
my_CI4(angell_stata$city)
my_CI4(angell_stata$morint)
my_CI4(angell_stata$ethhet)
my_CI4(angell_stata$geomob)
my_CI4(angell_stata$region)
res
my_CI4 <- function(input_vector){
if(!is.numeric(input_vector) && !is.logical(input_vector)) {
return(NA)
}
mean_temp <- mean(input_vector)
std_temp <- sd(input_vector)/sqrt(length(input_vector))
a <- 1 - 0.95  # 1 - alpha
z <- qnorm(1 - a/2)
lower_bound <- mean_temp - z * std_temp
upper_bound <- mean_temp + z * std_temp
c(lower_bound,upper_bound)
}
res <- apply(angell_stata$city, 2, my_CI4, simplify = TRUE)
my_CI4 <- function(input_vector){
if(!is.numeric(input_vector) && !is.logical(input_vector)) {
return(NA)
}
mean_temp <- mean(input_vector)
std_temp <- sd(input_vector)/sqrt(length(input_vector))
a <- 1 - 0.95  # 1 - alpha
z <- qnorm(1 - a/2)
lower_bound <- mean_temp - z * std_temp
upper_bound <- mean_temp + z * std_temp
c(lower_bound,upper_bound)
}
res <- apply(angell_stata, 2, my_CI4, simplify = TRUE)
my_CI4(angell_stata$city)
my_CI4(angell_stata$morint)
my_CI4(angell_stata$ethhet)
my_CI4(angell_stata$geomob)
my_CI4(angell_stata$region)
type(res)
typeof(res)
my_CI4 <- function(input_vector){
if(!is.numeric(input_vector) && !is.logical(input_vector)) {
return(NA)
}
mean_temp <- mean(input_vector)
std_temp <- sd(input_vector)/sqrt(length(input_vector))
a <- 1 - 0.95  # 1 - alpha
z <- qnorm(1 - a/2)
lower_bound <- mean_temp - z * std_temp
upper_bound <- mean_temp + z * std_temp
c(lower_bound,upper_bound)
}
res <- array(1:24, dim = 2:4)
res <- apply(angell_stata, 2, my_CI4, simplify = TRUE)
my_CI4(angell_stata$city)
my_CI4(angell_stata$morint)
my_CI4(angell_stata$ethhet)
my_CI4(angell_stata$geomob)
my_CI4(angell_stata$region)
res
my_CI4 <- function(input_vector){
if(!is.numeric(input_vector) && !is.logical(input_vector)) {
return(NA)
}
mean_temp <- mean(input_vector)
std_temp <- sd(input_vector)/sqrt(length(input_vector))
a <- 1 - 0.95  # 1 - alpha
z <- qnorm(1 - a/2)
lower_bound <- mean_temp - z * std_temp
upper_bound <- mean_temp + z * std_temp
return(upper_bound)
}
res <- apply(angell_stata, 2, my_CI4, simplify = TRUE)
my_CI4(angell_stata$city)
my_CI4(angell_stata$morint)
my_CI4(angell_stata$ethhet)
my_CI4(angell_stata$geomob)
my_CI4(angell_stata$region)
my_CI4 <- function(input_vector){
if(!is.numeric(input_vector) && !is.logical(input_vector)) {
return(NA)
}
mean_temp <- mean(input_vector)
std_temp <- sd(input_vector)/sqrt(length(input_vector))
a <- 1 - 0.95  # 1 - alpha
z <- qnorm(1 - a/2)
lower_bound <- mean_temp - z * std_temp
upper_bound <- mean_temp + z * std_temp
return(upper_bound)
}
apply(angell_stata, 2, my_CI4, simplify = TRUE)
my_CI4(angell_stata$city)
my_CI4(angell_stata$morint)
my_CI4(angell_stata$ethhet)
my_CI4(angell_stata$geomob)
my_CI4(angell_stata$region)
my_CI4 <- function(input_vector){
if(!is.numeric(input_vector) && !is.logical(input_vector)) {
return(NA)
}
mean_temp <- mean(input_vector)
std_temp <- sd(input_vector)/sqrt(length(input_vector))
a <- 1 - 0.95  # 1 - alpha
z <- qnorm(1 - a/2)
lower_bound <- mean_temp - z * std_temp
upper_bound <- mean_temp + z * std_temp
return(upper_bound)
}
apply(angell_stata, 2, my_CI4)
my_CI4(angell_stata$city)
my_CI4(angell_stata$morint)
my_CI4(angell_stata$ethhet)
my_CI4(angell_stata$geomob)
my_CI4(angell_stata$region)
my_CI4 <- function(input_vector){
if(!is.numeric(input_vector) && !is.logical(input_vector)) {
return(NA)
}
mean_temp <- mean(input_vector)
std_temp <- sd(input_vector)/sqrt(length(input_vector))
a <- 1 - 0.95  # 1 - alpha
z <- qnorm(1 - a/2)
lower_bound <- mean_temp - z * std_temp
upper_bound <- mean_temp + z * std_temp
c(lower_bound,upper_bound)
}
apply(angell_stata, 2, my_CI4, simplify = TRUE)
my_CI4(angell_stata$city)
my_CI4(angell_stata$morint)
my_CI4(angell_stata$ethhet)
my_CI4(angell_stata$geomob)
my_CI4(angell_stata$region)
c(res)
res
my_CI4 <- function(input_vector){
if(!is.numeric(input_vector) && !is.logical(input_vector)) {
return(NA)
}
mean_temp <- mean(input_vector)
std_temp <- sd(input_vector)/sqrt(length(input_vector))
a <- 1 - 0.95  # 1 - alpha
z <- qnorm(1 - a/2)
lower_bound <- mean_temp - z * std_temp
upper_bound <- mean_temp + z * std_temp
c(lower_bound,upper_bound)
}
apply(angell_txt, 2, my_CI4, simplify = TRUE)
my_CI4(angell_stata$city)
my_CI4(angell_stata$morint)
my_CI4(angell_stata$ethhet)
my_CI4(angell_stata$geomob)
my_CI4(angell_stata$region)
my_CI4 <- function(input_vector){
if(!is.numeric(input_vector) && !is.logical(input_vector)) {
return(NA)
}
mean_temp <- mean(input_vector)
print(length(input_vector))
std_temp <- sd(input_vector)/sqrt(length(input_vector))
a <- 1 - 0.95  # 1 - alpha
z <- qnorm(1 - a/2)
lower_bound <- mean_temp - z * std_temp
upper_bound <- mean_temp + z * std_temp
c(lower_bound,upper_bound)
}
apply(angell_stata, 2, my_CI4, simplify = TRUE)
my_CI4(angell_stata$city)
my_CI4(angell_stata$morint)
my_CI4(angell_stata$ethhet)
my_CI4(angell_stata$geomob)
my_CI4(angell_stata$region)
my_CI4 <- function(input_vector){
typeof(input_vector)
if(!is.numeric(input_vector) && !is.logical(input_vector)) {
return(NA)
}
mean_temp <- mean(input_vector)
std_temp <- sd(input_vector)/sqrt(length(input_vector))
a <- 1 - 0.95  # 1 - alpha
z <- qnorm(1 - a/2)
lower_bound <- mean_temp - z * std_temp
upper_bound <- mean_temp + z * std_temp
c(lower_bound,upper_bound)
}
apply(angell_stata, 2, my_CI4, simplify = TRUE)
my_CI4(angell_stata$city)
my_CI4(angell_stata$morint)
my_CI4(angell_stata$ethhet)
my_CI4(angell_stata$geomob)
my_CI4(angell_stata$region)
my_CI4 <- function(input_vector){
typeof(input_vector)
if(!is.numeric(input_vector) && !is.logical(input_vector)) {
return(NA)
}
mean_temp <- mean(input_vector)
std_temp <- sd(input_vector)/sqrt(length(input_vector))
a <- 1 - 0.95  # 1 - alpha
z <- qnorm(1 - a/2)
lower_bound <- mean_temp - z * std_temp
upper_bound <- mean_temp + z * std_temp
c(lower_bound,upper_bound)
}
apply(angell_stata, 2, my_CI4, simplify = TRUE)
#my_CI4(angell_stata$city)
#my_CI4(angell_stata$morint)
#my_CI4(angell_stata$ethhet)
#my_CI4(angell_stata$geomob)
#my_CI4(angell_stata$region)
my_CI4 <- function(input_vector){
print(typeof(input_vector))
if(!is.numeric(input_vector) && !is.logical(input_vector)) {
return(NA)
}
mean_temp <- mean(input_vector)
std_temp <- sd(input_vector)/sqrt(length(input_vector))
a <- 1 - 0.95  # 1 - alpha
z <- qnorm(1 - a/2)
lower_bound <- mean_temp - z * std_temp
upper_bound <- mean_temp + z * std_temp
c(lower_bound,upper_bound)
}
apply(angell_stata, 2, my_CI4, simplify = TRUE)
#my_CI4(angell_stata$city)
#my_CI4(angell_stata$morint)
#my_CI4(angell_stata$ethhet)
#my_CI4(angell_stata$geomob)
#my_CI4(angell_stata$region)
my_CI4 <- function(input_vector){
print(typeof(input_vector))
print(dim(input_vector))
if(!is.numeric(input_vector) && !is.logical(input_vector)) {
return(NA)
}
mean_temp <- mean(input_vector)
std_temp <- sd(input_vector)/sqrt(length(input_vector))
a <- 1 - 0.95  # 1 - alpha
z <- qnorm(1 - a/2)
lower_bound <- mean_temp - z * std_temp
upper_bound <- mean_temp + z * std_temp
c(lower_bound,upper_bound)
}
apply(angell_stata, 2, my_CI4, simplify = TRUE)
#my_CI4(angell_stata$city)
#my_CI4(angell_stata$morint)
#my_CI4(angell_stata$ethhet)
#my_CI4(angell_stata$geomob)
#my_CI4(angell_stata$region)
View(angell_stata)
typeof(angell_stata$city)
typeof(angell_stata$morint)
my_CI4 <- function(input_vector){
print(typeof(input_vector))
print(dim(input_vector))
if(!is.numeric(input_vector) && !is.logical(input_vector)) {
return(NA)
}
mean_temp <- mean(input_vector)
std_temp <- sd(input_vector)/sqrt(length(input_vector))
a <- 1 - 0.95  # 1 - alpha
z <- qnorm(1 - a/2)
lower_bound <- mean_temp - z * std_temp
upper_bound <- mean_temp + z * std_temp
c(lower_bound,upper_bound)
}
apply(angell_stata, 2, my_CI4, simplify = FALSE)
#my_CI4(angell_stata$city)
#my_CI4(angell_stata$morint)
#my_CI4(angell_stata$ethhet)
#my_CI4(angell_stata$geomob)
#my_CI4(angell_stata$region)
my_CI4 <- function(input_vector){
print(typeof(input_vector))
print(dim(input_vector))
if(!is.numeric(input_vector) && !is.logical(input_vector)) {
return(NA)
}
mean_temp <- mean(input_vector)
std_temp <- sd(input_vector)/sqrt(length(input_vector))
a <- 1 - 0.95  # 1 - alpha
z <- qnorm(1 - a/2)
lower_bound <- mean_temp - z * std_temp
upper_bound <- mean_temp + z * std_temp
c(lower_bound,upper_bound)
}
apply(angell_stata, 2, my_CI4)
#my_CI4(angell_stata$city)
#my_CI4(angell_stata$morint)
#my_CI4(angell_stata$ethhet)
#my_CI4(angell_stata$geomob)
#my_CI4(angell_stata$region)
options(tinytex.verbose = TRUE)
library(haven)
angell_stata <- read_dta("angell.dta")
angell_txt <- read.table("angell.txt")
print(sapply(angell_stata, class))
print(sapply(angell_txt, class))
library(plyr)
angell_txt <- plyr::rename(angell_txt, c("V1"="city","V2"="morint","V3"="ethhet","V4"="geomob","V5"="region"))
print(class(angell_stata) == class(angell_txt))
library(dplyr)
angell_txt <- as_tibble(angell_txt)
print(class(angell_stata) == class(angell_txt))
head(angell_txt)
head(angell_stata)
summary(angell_stata$ethhet)
sd(angell_stata$ethhet)
summary(angell_stata$region)
sd(angell_stata$region)
# install.packages('MASS')
library(MASS)
data(Boston)
typeof(Boston)
class(Boston)
#print(sapply(Boston, class))
sum(Boston$chas == 1, na.rm = TRUE) # filter
c(min(Boston$crim),max(Boston$crim))
c(min(Boston$tax),max(Boston$tax))
c(min(Boston$ptratio),max(Boston$ptratio))
bos1 <- subset(Boston, Boston$crim > 1)
bos2 <- subset(Boston, Boston$crim <= 1)
layout(matrix(c(1, 2), nrow = 1, ncol = 2, byrow = TRUE))
hist(bos1$ptratio, main="Ptratio in High Crime Towns", xlab="Pupil-Teacher Ratio", col="skyblue")
hist(bos2$ptratio, main="Ptratio in Low Crime Towns", xlab="Pupil-Teacher Ratio", col="salmon")
my_CI <- function(point_estimate, se){
lower_bound <- point_estimate - 1.96 * se
upper_bound <- point_estimate + 1.96 * se
paste0("The 95 percent CI upper bound of point estimate 2 with standard error 0.2 is ",upper_bound,". The lower bound is ",lower_bound,".")
}
my_CI(2, 0.2)
my_CI2 <- function(point_estimate, se){
lower_bound <- point_estimate - 1.96 * se
upper_bound <- point_estimate + 1.96 * se
c(lower_bound,upper_bound)
}
my_CI2(0,0.4)
my_CI3 <- function(point_estimate, se, alpha){
a <- 1 - alpha  # 1 - alpha
z <- qnorm(1 - a/2)
lower_bound <- point_estimate - z * se
upper_bound <- point_estimate + z * se
c(lower_bound,upper_bound)
}
my_CI3(0,0.4,0.9)
mean_eth <- mean(angell_stata$ethhet)
std_eth <- sd(angell_stata$ethhet)/sqrt(nrow(angell_stata))
my_CI_eth <- function(point_estimate, se, alpha){
a <- 1 - alpha  # 1 - alpha
z <- qnorm(1 - a/2)
lower_bound <- point_estimate - z * se
upper_bound <- point_estimate + z * se
c(lower_bound,upper_bound)
}
my_CI_eth(mean_eth,std_eth,0.99)
my_CI4 <- function(input_vector){
print(typeof(input_vector))
print(dim(input_vector))
if(!is.numeric(input_vector) && !is.logical(input_vector)) {
return(NA)
}
mean_temp <- mean(input_vector)
std_temp <- sd(input_vector)/sqrt(length(input_vector))
a <- 1 - 0.95  # 1 - alpha
z <- qnorm(1 - a/2)
lower_bound <- mean_temp - z * std_temp
upper_bound <- mean_temp + z * std_temp
c(lower_bound,upper_bound)
}
sapply(angell_stata, my_CI4)
#my_CI4(angell_stata$city)
#my_CI4(angell_stata$morint)
#my_CI4(angell_stata$ethhet)
#my_CI4(angell_stata$geomob)
#my_CI4(angell_stata$region)
my_CI4 <- function(input_vector){
print(typeof(input_vector))
print(dim(input_vector))
if(!is.numeric(input_vector) && !is.logical(input_vector)) {
return(NA)
}
mean_temp <- mean(input_vector)
std_temp <- sd(input_vector)/sqrt(length(input_vector))
a <- 1 - 0.95  # 1 - alpha
z <- qnorm(1 - a/2)
lower_bound <- mean_temp - z * std_temp
upper_bound <- mean_temp + z * std_temp
c(lower_bound,upper_bound)
}
lapply(angell_stata, my_CI4)
#my_CI4(angell_stata$city)
#my_CI4(angell_stata$morint)
#my_CI4(angell_stata$ethhet)
#my_CI4(angell_stata$geomob)
#my_CI4(angell_stata$region)
my_CI4 <- function(input_vector){
if(!is.numeric(input_vector) && !is.logical(input_vector)) {
return(NA)
}
mean_temp <- mean(input_vector)
std_temp <- sd(input_vector)/sqrt(length(input_vector))
a <- 1 - 0.95  # 1 - alpha
z <- qnorm(1 - a/2)
lower_bound <- mean_temp - z * std_temp
upper_bound <- mean_temp + z * std_temp
c(lower_bound,upper_bound)
}
lapply(angell_stata, my_CI4)
